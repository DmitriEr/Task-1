# Task-2
- из мастера перейти в ветку `task_2` (git checkout task_2)
- установить зависимости `npm i`
- запустить тесты командой `npm test`
- запустить coverage `npm run test:coverage`

# Task-1
Для запуска программы набрать
1. node my_ciphering_cli
2. передать следующие аргументы:

- `-c, --config`: конфигурация кодирования `{XY(-)}n`, где:
    * X - кодировка:
        - C - шифр цезаря (сл сдвигом на 1)
        - A - шифр Атбаш
        - R - шифр ROT-8 (со сдвигом на 8)
    * Y - флаг для выбора шифровать или расшифровать
        1 - шифровка
        0 - расшифровка
- `-i, --input`: путь к файлу с текстом, который нужно шифровать/расшифровать:
    Если не передан аргумент `-i, --input`:
    - введите текст в input - нажмите `Enter`;
    - для выходя из терминала `Ctrl + C`;
- `-o, --output`: путь к файлу с результатом шифровки/расшифровки
    Если не передан этот аргумент `-o, --output`:
    - в терминале будет показан зашифрованный текст;
    - для выходя из терминала `Ctrl + C`;

Примеры выполнения:

- node my_ciphering_cli -c "C1-C1-R0-A" -i "./input.txt" -o "./output.txt"
input.txt: 
 - This is secret. Message about "_" symbol!

output.txt: 
 - Myxn xn nbdobm. Tbnnfzb ferlm "_" nhteru!

- node my_ciphering_cli -c "C1-C0-A-R1-R0-A-R0-R0-C1-A" -i "./input.txt" -o "./output.txt"
input.txt:
 - This is secret. Message about "_" symbol!

output.txt:
 - Vhgw gw wkmxkv. Ckwwoik onauv "_" wqcnad!

- node my_ciphering_cli -c "A-A-A-R1-R0-R0-R0-C1-C1-A" -i "./input.txt" -o "./output.txt"
input.txt:
 - This is secret. Message about "_" symbol!

output.txt:
 - Hvwg wg gsqfsh. Asggous opcih "_" gmapcz!

- node my_ciphering_cli -c "C1-R1-C0-C0-A-R0-R1-R1-A-C1" -i "./input.txt" -o "./output.txt"
input.txt:
 - This is secret. Message about "_" symbol!

output.txt:
 - This is secret. Message about "_" symbol!

# как проверять
Базовая реализация

- В README.md должно быть описано, как можно запустить программу из командной строки, описаны аргументы, которые можно передать приложению плюс 10 баллов.
- Если переданы все аргументы и они корректны, приложение читает из файла и записывает в файл преобразованный текст, при этом предыдущие записи не удаляются плюс 20 баллов
- Приложение работает в соответствии с описанными в задании примерами плюс 30 баллов
- Если аргументы input и/или output ведут к несуществующему файлу либо директории,приложение передает соответствующее сообщение в process.stderr и прoцесс завершается с кодом, отличным от 0 плюс 10 баллов
- Если любой из аргументов дублируется, приложение передает соответствующее сообщение в process.stderr и прoцесс завершается с кодом, отличным от 0 плюс 10 баллов
- Если config невалиден или отсутствует, приложение передает соответствующее сообщение в process.stderr и прoцесс завершается с кодом, отличным от 0 плюс 20 баллов. Объем валидации config:
проверяется, что config имеет формат {XY(-)}n
проверяется, что X соответствует одному из шифров
проверяется, что для ROT-8 и Цезаря присутствует элемент Y
проверяется, что для Атбаш отсутствует элемент Y
проверяется, что Y — это 1 или 0
- Если не передан аргумент с путем до файла на чтение, то чтение осуществляется из process.stdin плюс 10 баллов
- Если не передан аргумент с путем до файла на запись, то вывод осуществляется в process.stdout плюс 10 баллов
Шифруются/дешифруются только латинские буквы, регистр сохраняется, остальные символы не изменяются плюс 20 баллов
- Если текст вводится из консоли, то программа не должна завершаться после выполнения шифровки/дешифровки введенного текста, т.е. должна быть возможность ввести еще текст плюс 10 баллов
- Кодовая база не находится в одном файле, а разделена на файлы в соответствии с выполняемыми задачами (например - функция, преобразующая строку, в отдельном файле, код, создающий transform стрим, в отдельном файле, функция для парсинга и валидации аргументов в отдельном файле и т.п.) плюс 10 баллов
Продвинутая реализация

- Чтение реализовано при помощи кастомного стрима (класс, отнаследованный от Readable) плюс 10 баллов
- Запись реализована при помощи кастомного стрима (класс, отнаследованный от Writable) плюс 10 баллов
- Для передачи сообщения в process.stderr используются пользовательские ошибки и их обработка плюс 10 баллов
Штрафы:

- Наличие коммитов после дедлайна (за исключением коммитов, изменяющих исключительно Readme.md либо вспомогательные файлы (.gitignore, .prettierrc.json и т.д.) минус 30% от максимального балла за задание (для этого задания 57 баллов)
- Использование любых сторонних пакетов, библиотек, фреймворков (за исключением nodemon, prettier и его плагинов, eslint и его плагинов) минус 150 баллов
- Запись, чтение, трансформация текста осуществляются без использования потоков (streams) минус 150 баллов
- При изменении порядка аргументов происходит ошибка либо изменяется результат выполнения кода минус 30 баллов
N.B. console.error пишет ошибку в process.stderr. В VS Code, если запустить приложение в режиме дебага, можно увидеть в панели output, что цвет сообщений, выводимых в process.stdout и process.stderr отличаются.
